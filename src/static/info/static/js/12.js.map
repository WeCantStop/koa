{"version":3,"sources":["webpack:///src/views/content/columnManage.vue","webpack:///./src/views/content/columnManage.vue?3f89","webpack:///./src/views/content/columnManage.vue"],"names":["ajaxUrl","url","getList","methods","extends_default","Object","vuex_esm","_this","this","result","_this2","updateColumn","subForm","sort","cancelDialog","updateSilder","returnMsg","_this3","directoryName","directoryCode","status","isVisual","color","coverImage","id","openDialog","_this4","editId","_this5","then","data","_this6","menuList","clearValidate","selection","content_columnManage","render","_vm","_h","$createElement","_c","_self","attrs","header","scroll","staticClass","size","type","on","click","addNewColumn","_v","ref","list","highlight-current-row","total","selection-change","handleSelectionChange","prop","label","scopedSlots","_u","key","fn","scope","_s","statusText","row","width","$event","editColumn","deleteColumn","title","visible","dialogVisiblePage","update:visible","close","hideDialog","model","rules","formValidate","label-position","label-width","align","staticStyle","span","value","callback","$$v","$set","expression","controls","placeholder","_l","item","action","baseUrl","uploadArticleImage","allowCors","show-file-list","on-success","handleAvatarSuccess","src","text-align","saveColumn","staticRenderFns","Component","__webpack_require__","normalizeComponent","columnManage","ssrContext","__webpack_exports__"],"mappings":"yOA0HAA,QAAAC,qEAEA,oDACA,oDACA,+DACA,wDACA,mDACA,yDAEA,gDAGA,yBAEA,QACA,UACA,YACA,SACA,cAEA,WACA,wDACA,4DACA,YACA,qCAKAC,WAEAC,QAAAC,OAAAC,OAAAC,EAAA,EAAAD,EAGA,qCACA,IAAAE,EAAAC,gHAGAC,iCAIA,IAAAC,EAAAF,QACA,iDAEA,eAGA,sBAGAG,+BAGAC,0BACAC,6FAGAC,mCAEA,aAEA,cACAZ,YACAa,mBAEAD,qCAEAE,eAEA,sCAKA,IAAAC,EAAAT,qGAEA,SACAC,kCAEAS,8BACAC,qBACAN,cACAO,kBACAC,iBACAC,mBAEAC,uBACAC,KACAC,sCAGA,aAEA,qCAKA,IAAAC,EAAAlB,0CACAmB,2BACAd,oFAGAC,mCAEA,aAEA,cACAZ,YACAa,mBAEAD,mCAEA,aAEA,uCAIA,IAAAc,EAAApB,wGAGAgB,KADAK,KAAA,SAAAC,6CAKA,aAEA,cACA5B,YACAa,sCAGAC,eAEA,6FAOAP,gCAEA,IAAAsB,EAAAvB,sEAEAwB,iDAIA,iCAEA,QACA,UAEA,SACAP,4DAGA,yCAGAQ,iEAGA,sCAIA,UAEA,YACAb,iEAGAc,MCvSAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAA7B,KAAa8B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,mBAA6BE,OAAOC,OAAA,OAAAC,OAAA,UAAiCJ,EAAA,UAAeK,YAAA,cAAwBL,EAAA,aAAkBE,OAAOI,KAAA,SAAAC,KAAA,WAAiCC,IAAKC,MAAAZ,EAAAa,gBAA0Bb,EAAAc,GAAA,cAAAd,EAAAc,GAAA,KAAAX,EAAA,YAAkDY,IAAA,QAAAV,OAAmBZ,KAAAO,EAAAgB,KAAAC,wBAAA,GAAAC,MAAA,GAAqDP,IAAKQ,mBAAAnB,EAAAoB,yBAA8CjB,EAAA,mBAAwBE,OAAOgB,KAAA,OAAAC,MAAA,QAA4BtB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCE,OAAOgB,KAAA,gBAAAC,MAAA,YAAyCtB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCE,OAAOgB,KAAA,gBAAAC,MAAA,UAAuCtB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCE,OAAOiB,MAAA,MAAaC,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAxB,EAAA,UAAAH,EAAAc,GAAAd,EAAA4B,GAAA5B,EAAA6B,WAAAF,cAAkE3B,EAAAc,GAAA,KAAAX,EAAA,mBAAoCE,OAAOiB,MAAA,aAAoBC,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA3B,EAAAc,GAAA,aAAAd,EAAA4B,GAAA,MAAAD,EAAAG,IAAA9C,SAAA,4BAA4FgB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCE,OAAOiB,MAAA,KAAAS,MAAA,SAA6BR,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAxB,EAAA,aAAwBE,OAAOI,KAAA,OAAAC,KAAA,WAA+BC,IAAKC,MAAA,SAAAoB,GAAyBhC,EAAAiC,WAAAN,EAAAG,SAA4B9B,EAAAc,GAAA,QAAAd,EAAAc,GAAA,KAAAX,EAAA,aAA6CE,OAAOI,KAAA,OAAAC,KAAA,UAA8BC,IAAKC,MAAA,SAAAoB,GAAyBhC,EAAAkC,aAAAP,EAAAG,SAA8B9B,EAAAc,GAAA,gBAAsB,GAAAd,EAAAc,GAAA,KAAAX,EAAA,aAAkCE,OAAO8B,MAAA,OAAAC,QAAApC,EAAAqC,kBAAAN,MAAA,SAA+DpB,IAAK2B,iBAAA,SAAAN,GAAkChC,EAAAqC,kBAAAL,GAA6BO,MAAAvC,EAAAwC,cAAyBrC,EAAA,UAAAA,EAAA,WAA6BY,IAAA,OAAAV,OAAkBoC,MAAAzC,EAAAzB,QAAAmE,MAAA1C,EAAA2C,aAAAC,iBAAA,OAAAC,cAAA,WAA4F1C,EAAA,UAAAA,EAAA,UAA4BE,OAAOK,KAAA,OAAAoC,MAAA,YAAgC3C,EAAA,gBAAqB4C,aAAahB,MAAA,QAAe1B,OAAQiB,MAAA,OAAAD,KAAA,mBAAuClB,EAAA,UAAeE,OAAO2C,KAAA,MAAW7C,EAAA,YAAiBsC,OAAOQ,MAAAjD,EAAAzB,QAAA,cAAA2E,SAAA,SAAAC,GAA2DnD,EAAAoD,KAAApD,EAAAzB,QAAA,gBAAA4E,IAA4CE,WAAA,4BAAqC,WAAArD,EAAAc,GAAA,KAAAX,EAAA,UAAuCE,OAAOK,KAAA,OAAAoC,MAAA,YAAgC3C,EAAA,gBAAqB4C,aAAahB,MAAA,QAAe1B,OAAQiB,MAAA,KAAAD,KAAA,UAA4BlB,EAAA,UAAeE,OAAO2C,KAAA,MAAW7C,EAAA,mBAAwB4C,aAAahB,MAAA,QAAe1B,OAAQiD,UAAA,GAAiBb,OAAQQ,MAAAjD,EAAAzB,QAAA,KAAA2E,SAAA,SAAAC,GAAkDnD,EAAAoD,KAAApD,EAAAzB,QAAA,OAAA4E,IAAmCE,WAAA,mBAA4B,WAAArD,EAAAc,GAAA,KAAAX,EAAA,UAAuCE,OAAOK,KAAA,OAAAoC,MAAA,YAAgC3C,EAAA,gBAAqB4C,aAAahB,MAAA,QAAe1B,OAAQiB,MAAA,KAAAD,KAAA,YAA8BlB,EAAA,UAAeE,OAAO2C,KAAA,MAAW7C,EAAA,aAAkB4C,aAAahB,MAAA,QAAe1B,OAAQkD,YAAA,OAAoBd,OAAQQ,MAAAjD,EAAAzB,QAAA,OAAA2E,SAAA,SAAAC,GAAoDnD,EAAAoD,KAAApD,EAAAzB,QAAA,SAAA4E,IAAqCE,WAAA,mBAA8BrD,EAAAwD,GAAAxD,EAAA,iBAAAyD,GAAqC,OAAAtD,EAAA,aAAuBsB,IAAAgC,EAAAR,MAAA5C,OAAsBiB,MAAAmC,EAAAnC,MAAA2B,MAAAQ,EAAAR,aAAyC,WAAAjD,EAAAc,GAAA,KAAAX,EAAA,UAAwCE,OAAOK,KAAA,OAAAoC,MAAA,YAAgC3C,EAAA,QAAaK,YAAA,iBAA2BR,EAAAc,GAAA,eAAAd,EAAAc,GAAA,KAAAX,EAAA,gBAAuD4C,aAAahB,MAAA,QAAe1B,OAAQiB,MAAA,OAAAD,KAAA,cAAkClB,EAAA,UAAeE,OAAO2C,KAAA,MAAW7C,EAAA,aAAkB4C,aAAahB,MAAA,QAAe1B,OAAQkD,YAAA,OAAoBd,OAAQQ,MAAAjD,EAAAzB,QAAA,SAAA2E,SAAA,SAAAC,GAAsDnD,EAAAoD,KAAApD,EAAAzB,QAAA,WAAA4E,IAAuCE,WAAA,qBAAgCrD,EAAAwD,GAAAxD,EAAA,sBAAAyD,GAA0C,OAAAtD,EAAA,aAAuBsB,IAAAgC,EAAAR,MAAA5C,OAAsBiB,MAAAmC,EAAAnC,MAAA2B,MAAAQ,EAAAR,aAAyC,WAAAjD,EAAAc,GAAA,KAAAX,EAAA,UAAwCE,OAAOK,KAAA,OAAAoC,MAAA,YAAgC3C,EAAA,gBAAqB4C,aAAahB,MAAA,QAAe1B,OAAQiB,MAAA,SAAAD,KAAA,mBAAyClB,EAAA,UAAeE,OAAO2C,KAAA,MAAW7C,EAAA,YAAiBsC,OAAOQ,MAAAjD,EAAAzB,QAAA,cAAA2E,SAAA,SAAAC,GAA2DnD,EAAAoD,KAAApD,EAAAzB,QAAA,gBAAA4E,IAA4CE,WAAA,4BAAqC,WAAArD,EAAAc,GAAA,KAAAX,EAAA,UAAuCE,OAAOK,KAAA,OAAAoC,MAAA,YAAgC3C,EAAA,gBAAqB4C,aAAahB,MAAA,QAAe1B,OAAQiB,MAAA,MAAAD,KAAA,gBAAmClB,EAAA,UAAeE,OAAO2C,KAAA,MAAW7C,EAAA,OAAYK,YAAA,UAAAuC,aAAmC9D,MAAA,SAAee,EAAAc,GAAA,oBAAAd,EAAAc,GAAA,KAAAX,EAAA,aAAyDK,YAAA,kBAAAH,OAAqCqD,OAAA1D,EAAArC,QAAAgG,QAAA3D,EAAArC,QAAAiG,mBAAAnE,MAAsEoE,UAAA,GAAaC,kBAAA,EAAAC,aAAA/D,EAAAgE,uBAA8DhE,EAAAzB,QAAA,WAAA4B,EAAA,OAAqCK,YAAA,SAAAH,OAA4B4D,IAAAjE,EAAAzB,QAAAW,cAA8BiB,EAAA,KAAUK,YAAA,yCAAgD,WAAAR,EAAAc,GAAA,KAAAX,EAAA,UAAyCE,OAAOK,KAAA,OAAAoC,MAAA,YAAgC3C,EAAA,gBAAqB4C,aAAahB,MAAA,QAAe1B,OAAQiB,MAAA,OAAAD,KAAA,WAA+BlB,EAAA,UAAeE,OAAO2C,KAAA,MAAW7C,EAAA,mBAAwBsC,OAAOQ,MAAAjD,EAAAzB,QAAA,MAAA2E,SAAA,SAAAC,GAAmDnD,EAAAoD,KAAApD,EAAAzB,QAAA,QAAA4E,IAAoCE,WAAA,oBAA6B,eAAArD,EAAAc,GAAA,KAAAX,EAAA,OAAwCK,YAAA,gBAAAuC,aAAyCmB,aAAA,YAAuB/D,EAAA,aAAkBE,OAAOK,KAAA,WAAiBC,IAAKC,MAAAZ,EAAAvB,gBAA0BuB,EAAAc,GAAA,SAAAd,EAAAc,GAAA,KAAAX,EAAA,aAA8CE,OAAOK,KAAA,WAAiBC,IAAKC,MAAAZ,EAAAmE,cAAwBnE,EAAAc,GAAA,8BAEhuKsD,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAC,EACA1E,GATA,EAVA,SAAA2E,GACAH,EAAA,SAaA,kBAEA,MAUAI,EAAA,QAAAL,EAAA","file":"static/js/12.js","sourcesContent":["<template>\n\t<za-page-content header=\"栏目管理\" scroll=\"true\">\n\t\t<el-row class=\"targetTit\">\n\t\t\t<el-button size=\"medium\" @click=\"addNewColumn\" type=\"success\">添加栏目</el-button>\n\t\t</el-row>\n\t\t<za-table ref=\"table\" :data=\"list\" highlight-current-row :total=\"0\" @selection-change=\"handleSelectionChange\">\n\t\t\t<el-table-column prop=\"sort\" label=\"排序\"></el-table-column>\n\t\t\t<el-table-column prop=\"directoryCode\" label=\"栏目Code\"></el-table-column>\n\t\t\t<el-table-column prop=\"directoryName\" label=\"栏目名称\"></el-table-column>\n\t\t\t<el-table-column label=\"状态\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-col>{{ statusText(scope) }}</el-col>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column label=\"是否在资讯板块可见\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t{{scope.row.isVisual === 'Y' ? '是' : '否'}}\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column label=\"操作\" width=\"160px\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"editColumn(scope.row)\">编辑</el-button>\n\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"deleteColumn(scope.row)\">删除</el-button>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</za-table>\n\t\t<el-dialog\n\t\t\ttitle=\"添加栏目\"\n\t\t\t:visible.sync=\"dialogVisiblePage\"\n\t\t\t@close=\"hideDialog\"\n\t\t\twidth=\"500px\">\n\t\t\t<el-row>\n\t\t\t\t<el-form :model=\"subForm\" ref=\"form\" :rules=\"formValidate\" label-position=\"left\" label-width=\"120px\">\n\t\t\t\t\t<el-row>\n\t\t\t\t\t\t<el-row type=\"flex\" align=\"middle\">\n\t\t\t\t\t\t\t<el-form-item label=\"栏目名称\" prop=\"directoryName\" style=\"width: 100%\">\n\t\t\t\t\t\t\t\t<el-col :span=\"20\">\n\t\t\t\t\t\t\t\t\t<el-input v-model=\"subForm.directoryName\"></el-input>\n\t\t\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-row>\n\t\t\t\t\t\t<el-row type=\"flex\" align=\"middle\">\n\t\t\t\t\t\t\t<el-form-item label=\"排序\" prop=\"sort\" style=\"width: 100%\">\n\t\t\t\t\t\t\t\t<el-col :span=\"20\">\n\t\t\t\t\t\t\t\t\t<el-input-number :controls=\"false\" v-model=\"subForm.sort\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t style=\"width: 100%\"></el-input-number>\n\t\t\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-row>\n\t\t\t\t\t\t<el-row type=\"flex\" align=\"middle\">\n\t\t\t\t\t\t\t<el-form-item label=\"状态\" prop=\"status\" style=\"width: 100%\">\n\t\t\t\t\t\t\t\t<el-col :span=\"20\">\n\t\t\t\t\t\t\t\t\t<el-select v-model=\"subForm.status\" placeholder=\"请选择\" style=\"width: 100%\">\n\t\t\t\t\t\t\t\t\t\t<el-option\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"item in options\"\n\t\t\t\t\t\t\t\t\t\t\t:key=\"item.value\"\n\t\t\t\t\t\t\t\t\t\t\t:label=\"item.label\"\n\t\t\t\t\t\t\t\t\t\t\t:value=\"item.value\">\n\t\t\t\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-row>\n\t\t\t\t\t\t<el-row type=\"flex\" align=\"middle\">\n\t\t\t\t\t\t\t<span class=\"isVisual-tip\">注: 在资讯版块内</span>\n\t\t\t\t\t\t\t<el-form-item label=\"是否可见\" prop=\"isVisual\" style=\"width: 100%\">\n\t\t\t\t\t\t\t\t<el-col :span=\"20\">\n\t\t\t\t\t\t\t\t\t<el-select v-model=\"subForm.isVisual\" placeholder=\"请选择\" style=\"width: 100%\">\n\t\t\t\t\t\t\t\t\t\t<el-option\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"item in isVisualList\"\n\t\t\t\t\t\t\t\t\t\t\t:key=\"item.value\"\n\t\t\t\t\t\t\t\t\t\t\t:label=\"item.label\"\n\t\t\t\t\t\t\t\t\t\t\t:value=\"item.value\">\n\t\t\t\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-row>\n\t\t\t\t\t\t<el-row type=\"flex\" align=\"middle\">\n\t\t\t\t\t\t\t<el-form-item label=\"栏目Code\" prop=\"directoryCode\" style=\"width: 100%\">\n\t\t\t\t\t\t\t\t<el-col :span=\"20\">\n\t\t\t\t\t\t\t\t\t<el-input v-model=\"subForm.directoryCode\"></el-input>\n\t\t\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-row>\n\t\t\t\t\t\t<el-row type=\"flex\" align=\"middle\">\n\t\t\t\t\t\t\t<el-form-item label=\"封面图\" prop=\"coverImage\" style=\"width: 100%\">\n\t\t\t\t\t\t\t\t<el-col :span=\"20\">\n\t\t\t\t\t\t\t\t\t<div class=\"img-tip\" style=\"color: red\">* 建议宽高比200:120</div>\n\t\t\t\t\t\t\t\t\t<el-upload class=\"avatar-uploader\" :action=\"ajaxUrl.baseUrl + ajaxUrl.uploadArticleImage\" :data=\"{allowCors: 2}\" :show-file-list=\"false\" :on-success=\"handleAvatarSuccess\">\n\t\t\t\t\t\t\t\t\t\t<img v-if=\"subForm.coverImage\" :src=\"subForm.coverImage\" class=\"avatar\">\n\t\t\t\t\t\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n\t\t\t\t\t\t\t\t\t</el-upload>\n\t\t\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-row>\n\t\t\t\t\t\t<el-row type=\"flex\" align=\"middle\">\n\t\t\t\t\t\t\t<el-form-item label=\"专题颜色\" prop=\"color\" style=\"width: 100%\">\n\t\t\t\t\t\t\t\t<el-col :span=\"20\">\n\t\t\t\t\t\t\t\t\t<el-color-picker v-model=\"subForm.color\"></el-color-picker>\n\t\t\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</el-row>\n\t\t\t\t\t</el-row>\n\t\t\t\t\t<div class=\"dialog-footer\" style=\"text-align: center\">\n\t\t\t\t\t\t<el-button @click=\"cancelDialog\" type=\"primary\">取 消</el-button>\n\t\t\t\t\t\t<el-button @click=\"saveColumn\" type=\"success\">确 定</el-button>\n\t\t\t\t\t</div>\n\t\t\t\t</el-form>\n\t\t\t</el-row>\n\t\t</el-dialog>\n\t</za-page-content>\n</template>\n\n<script>\n\timport {ajaxGetCommon, ajaxPostCommon} from '../../api/common.js'\n\timport {mapMutations} from 'vuex';\n\timport * as ajaxUrl from '../../api/url'\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tajaxUrl,\n\t\t\t\tformValidate: {\n\t\t\t\t\tdirectoryName: {required: true, message: '请输入栏目名称', trigger: 'blur'},\n\t\t\t\t\tsort: {required: true, message: '请输入栏目顺序', trigger: 'blur'},\n\t\t\t\t\tstatus: {required: true, message: '请输入状态', trigger: 'blur'},\n\t\t\t\t\tdirectoryCode: {required: true, message: '请输入栏目Code', trigger: 'blur'},\n\t\t\t\t\tisVisual: {required: true, message: '请选择是否可见', trigger: 'blur'},\n\t\t\t\t\tcolor: {required: true, message: '请选择颜色', trigger: 'blur'},\n\t\t\t\t\tcoverImage: {required: true, message: '请上传封面图', trigger: 'blur'}\n\t\t\t\t},\n\t\t\t\tselectionRowData: [],\n\t\t\t\tdialogVisiblePage: false,\n\n\t\t\t\tsubForm: {\n\t\t\t\t\tdirectoryName: '',\n\t\t\t\t\tsort: '',\n\t\t\t\t\tstatus: '',\n\t\t\t\t\tisVisual: '',\n\t\t\t\t\tcolor: '',\n\t\t\t\t\tcoverImage: '',\n\t\t\t\t},\n\t\t\t\teditId: null,\n\t\t\t\toptions: [{value: '01', label: '上线'}, {value: '02', label: '下线'}],\n\t\t\t\tisVisualList: [{value: 'Y', label: '是'}, {value: 'N', label: '否'}],\n\t\t\t\tvalue: '',\n\t\t\t\tlist: []\n\t\t\t};\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getList();\n\t\t},\n\t\tmethods: {\n\t\t\t...mapMutations([\n\t\t\t\t'initSideMenu'\n\t\t\t]),\n\t\t\tgetList () {\n\t\t\t\tajaxPostCommon(ajaxUrl.listInfoDirectory, {pageNum: 1, pageSize: 100}).then((data) => {\n\t\t\t\t\tif (data.returnCode === '200') {\n\t\t\t\t\t\tthis.list = data.result;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tsaveColumn () {\n\t\t\t\tlet validatePass = false;\n\t\t\t\tthis.$refs.form.validate(pass => {\n\t\t\t\t\tif (pass) validatePass = true;\n\t\t\t\t});\n\t\t\t\tif (!validatePass) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.editId) {\n\t\t\t\t\tthis.updateColumn();\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tlet params = this.subForm;\n\t\t\t\tparams.sort = parseInt(params.sort)\n\t\t\t\tajaxPostCommon(ajaxUrl.saveInfoDirectory, this.subForm).then((data) => {\n\t\t\t\t\tif (data.returnCode === '200') {\n\t\t\t\t\t\tthis.cancelDialog();\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: '保存成功~',\n\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\tthis.updateSilder();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.cancelDialog();\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: data.returnMsg,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t},\n\t\t\teditColumn(scope) {\n\t\t\t\tajaxPostCommon(ajaxUrl.getInfoDirectoryById, {directoryId: scope.id}).then((data) => {\n\t\t\t\t\tif (data.returnCode === '200') {\n\t\t\t\t\t\tlet nowData = data.result;\n\t\t\t\t\t\tthis.subForm = {\n\t\t\t\t\t\t\tdirectoryName: nowData.directoryName,\n\t\t\t\t\t\t\tdirectoryCode: nowData.directoryCode,\n\t\t\t\t\t\t\tsort: nowData.sort,\n\t\t\t\t\t\t\tstatus: nowData.status,\n\t\t\t\t\t\t\tisVisual: nowData.isVisual,\n\t\t\t\t\t\t\tcolor: nowData.color,\n\t\t\t\t\t\t\tcoverImage: nowData.coverImage\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.editId = nowData.id;\n\t\t\t\t\t\tthis.openDialog();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: '查询失败~',\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t},\n\t\t\tupdateColumn() {\n\t\t\t\tlet params = Object.assign(this.subForm, {directoryId: this.editId});\n\t\t\t\tparams.sort = parseInt(params.sort)\n\t\t\t\tajaxPostCommon(ajaxUrl.updateInfoDirectory, params).then((data) => {\n\t\t\t\t\tif (data.returnCode === '200') {\n\t\t\t\t\t\tthis.cancelDialog();\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: '保存成功~',\n\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\tthis.updateSilder();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.cancelDialog();\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: '保存失败~',\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tdeleteColumn(scope) {\n\t\t\t\tthis.$confirm('确定删除该栏目?', '提示', {}).then(() => {\n\t\t\t\t\tajaxPostCommon(ajaxUrl.deleteInfoDirectory, {\n\t\t\t\t\t\tdirectoryId: scope.id\n\t\t\t\t\t}).then((data) => {\n\t\t\t\t\t\tif (data.returnCode === '200') {\n\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\tmessage: '删除成功~',\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\tthis.updateSilder();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\tmessage: data.returnMsg,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}).catch(() => {\n\t\t\t\t})\n\t\t\t},\n\t\t\thandleAvatarSuccess(res) {\n      \tthis.subForm.coverImage = res.result;\n    \t},\n\t\t\tupdateSilder() {\n\t\t\t\tajaxPostCommon(ajaxUrl.sideMenu).then(res => {\n\t\t\t\t\tthis.initSideMenu(res.result.menuList);\n\t\t\t\t})\n\t\t\t},\n\t\t\taddNewColumn() {\n\t\t\t\tthis.editId = null;\n\t\t\t\tthis.subForm = {\n\t\t\t\t\tdirectoryName: '',\n\t\t\t\t\tsort: '',\n\t\t\t\t\tstatus: ''\n\t\t\t\t};\n\t\t\t\tthis.openDialog();\n\t\t\t},\n\t\t\topenDialog() {\n\t\t\t\tthis.dialogVisiblePage = true;\n\t\t\t},\n\t\t\thideDialog() {\n\t\t\t\tthis.$refs.form.clearValidate();\n\t\t\t},\n\t\t\tcancelDialog() {\n\t\t\t\tthis.dialogVisiblePage = false;\n\t\t\t},\n\t\t\tstatusText(scope) {\n\t\t\t\tlet obj = {\n\t\t\t\t\t'01': '上线',\n\t\t\t\t\t'02': '下线',\n\t\t\t\t}\n\t\t\t\treturn obj[scope.row.status]\n\t\t\t},\n\t\t\thandleSelectionChange(selection) {\n\t\t\t\tthis.selectionRowData = selection\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<style lang=\"scss\" scoped>\n\t.targetTit {\n\t\tpadding-top: 20px;\n\t\tmargin-bottom: 20px;\n\t}\n\t.isVisual-tip {\n\t\tposition: absolute;\n\t\ttop: 38px;\n\t\tleft: 0px;\n\t\tfont-size: 12px;\n\t\tcolor: red;\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/content/columnManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('za-page-content',{attrs:{\"header\":\"栏目管理\",\"scroll\":\"true\"}},[_c('el-row',{staticClass:\"targetTit\"},[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"success\"},on:{\"click\":_vm.addNewColumn}},[_vm._v(\"添加栏目\")])],1),_vm._v(\" \"),_c('za-table',{ref:\"table\",attrs:{\"data\":_vm.list,\"highlight-current-row\":\"\",\"total\":0},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"prop\":\"sort\",\"label\":\"排序\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"directoryCode\",\"label\":\"栏目Code\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"directoryName\",\"label\":\"栏目名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-col',[_vm._v(_vm._s(_vm.statusText(scope)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"是否在资讯板块可见\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(scope.row.isVisual === 'Y' ? '是' : '否')+\"\\n\\t\\t\\t\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"160px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.editColumn(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.deleteColumn(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加栏目\",\"visible\":_vm.dialogVisiblePage,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.dialogVisiblePage=$event},\"close\":_vm.hideDialog}},[_c('el-row',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.subForm,\"rules\":_vm.formValidate,\"label-position\":\"left\",\"label-width\":\"120px\"}},[_c('el-row',[_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"栏目名称\",\"prop\":\"directoryName\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.subForm.directoryName),callback:function ($$v) {_vm.$set(_vm.subForm, \"directoryName\", $$v)},expression:\"subForm.directoryName\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"排序\",\"prop\":\"sort\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"controls\":false},model:{value:(_vm.subForm.sort),callback:function ($$v) {_vm.$set(_vm.subForm, \"sort\", $$v)},expression:\"subForm.sort\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.subForm.status),callback:function ($$v) {_vm.$set(_vm.subForm, \"status\", $$v)},expression:\"subForm.status\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('span',{staticClass:\"isVisual-tip\"},[_vm._v(\"注: 在资讯版块内\")]),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"是否可见\",\"prop\":\"isVisual\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.subForm.isVisual),callback:function ($$v) {_vm.$set(_vm.subForm, \"isVisual\", $$v)},expression:\"subForm.isVisual\"}},_vm._l((_vm.isVisualList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"栏目Code\",\"prop\":\"directoryCode\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.subForm.directoryCode),callback:function ($$v) {_vm.$set(_vm.subForm, \"directoryCode\", $$v)},expression:\"subForm.directoryCode\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"封面图\",\"prop\":\"coverImage\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"img-tip\",staticStyle:{\"color\":\"red\"}},[_vm._v(\"* 建议宽高比200:120\")]),_vm._v(\" \"),_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.ajaxUrl.baseUrl + _vm.ajaxUrl.uploadArticleImage,\"data\":{allowCors: 2},\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess}},[(_vm.subForm.coverImage)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.subForm.coverImage}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"专题颜色\",\"prop\":\"color\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-color-picker',{model:{value:(_vm.subForm.color),callback:function ($$v) {_vm.$set(_vm.subForm, \"color\", $$v)},expression:\"subForm.color\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.cancelDialog}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.saveColumn}},[_vm._v(\"确 定\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6cf37bfe\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/content/columnManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6cf37bfe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./columnManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./columnManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./columnManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6cf37bfe\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./columnManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6cf37bfe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/content/columnManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}