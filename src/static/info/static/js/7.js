webpackJsonp([7],{wVZb:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("Dd8w"),s=l.n(a),i=l("xVjy"),o=l("t5DY"),n=l("myXI"),r=[{label:"启用",value:"01"},{label:"禁用",value:"02"},{label:"未审核",value:"03"}],c=[{label:"S",value:"S"},{label:"A",value:"A"},{label:"B",value:"B"},{label:"C",value:"C"},{label:"D",value:"D"},{label:"E",value:"E"}],u=[{label:"爬取目标账号",value:"01"},{label:"众安官方账号",value:"02"}],d={data:function(){return{filters:{id:"",nickName:"",type:"",status:"",level:""},subEdit:{},accounts:[],pageConfig:{pageNum:1,pageSize:10,total:1},dialogType:"created",accountType:[{label:"全部",value:""},{label:"爬取目标账号",value:"01"},{label:"众安官方账号",value:"02"}],accountLevel:[{label:"全部",value:""},{label:"S",value:"S"},{label:"A",value:"A"},{label:"B",value:"B"},{label:"C",value:"C"},{label:"D",value:"D"},{label:"E",value:"E"}],accountStatus:[{label:"全部",value:""},{label:"启用",value:"01"},{label:"禁用",value:"02"},{label:"未审核",value:"03"}],formValidate:{type:[{required:!0,message:"请选择所属栏目",trigger:"blur"}],nickName:[{required:!0,message:"请输入昵称",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}],level:[{required:!0,message:"请选择等级",trigger:"blur"}]},accountStatusEx:r,accountTypeEx:u,accountLevelEx:c,showdalog:!1}},methods:{filter:function(){this.pageConfig=s()({},this.pageConfig,this.filters,{pageNum:1}),this.$refs.table.resetCurrentPage()||this.initData()},initData:function(){var e=this;this.loadingTable=!0,Object(o.a)(n.getAccountList,s()({},this.pageConfig)).then(function(t){setTimeout(function(){e.accounts=t.result.list,e.pageConfig.total=t.result.total,e.loadingTable=!1},200)})},handleCreateAccount:function(){this.showdalog=!0,this.dialogType="created"},handleEditAccount:function(e){this.showdalog=!0,this.subEdit=s()({},e),this.dialogType="edit"},saveAccount:function(){var e=this,t=!1;if(this.$refs.form.validate(function(e){t=e}),!t)return!1;Object(o.a)(n.saveOrUpdateAccount,this.subEdit).then(function(t){"200"===t.returnCode&&(e.hideDialog(),e.$message({message:"保存成功!",type:"success"}),e.initData())})},hideDialog:function(){this.$refs.form.resetFields(),this.showdalog=!1,this.subEdit={}},handleSelectionChange:function(e){this.selectionRowData=e},formatterDate:function(e,t,l){return Object(i.a)(l)},formatterStatus:function(e,t,l){switch(l){case"01":return"启用";case"02":return"禁用";case"03":return"未审核"}},changePage:function(e){var t={pageNum:e.page,pageSize:e.rows||this.pageConfig.pageSize};this.pageConfig=s()({},this.pageConfig,t),this.initData()}},created:function(){this.initData()}},p={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("za-page-content",{attrs:{scroll:"true"}},[l("za-table",{ref:"table",attrs:{data:e.accounts,total:e.pageConfig.total,isLoading:e.loadingTable},on:{"selection-change":e.handleSelectionChange,"action-change":e.changePage}},[l("div",{staticStyle:{"padding-bottom":"0px"},attrs:{slot:"searchBar"},slot:"searchBar"},[l("el-form",{ref:"filtersForm",attrs:{model:e.filters}},[l("el-form-item",[l("el-col",{attrs:{span:8}},[l("el-col",{attrs:{span:8}},[e._v("资讯号ID:")]),e._v(" "),l("el-col",{attrs:{span:14}},[l("el-input",{attrs:{clearable:!0,placeholder:"资讯号ID"},model:{value:e.filters.id,callback:function(t){e.$set(e.filters,"id",t)},expression:"filters.id"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-col",{attrs:{span:8,offset:1}},[e._v("资讯号昵称:")]),e._v(" "),l("el-col",{attrs:{span:14}},[l("el-input",{attrs:{clearable:!0,placeholder:"搜索昵称..."},model:{value:e.filters.nickName,callback:function(t){e.$set(e.filters,"nickName",t)},expression:"filters.nickName"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-col",{attrs:{span:6,offset:2}},[e._v("状态:")]),e._v(" "),l("el-col",{attrs:{span:14}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择状态"},model:{value:e.filters.status,callback:function(t){e.$set(e.filters,"status",t)},expression:"filters.status"}},e._l(e.accountStatus,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),l("el-form-item",[l("el-col",{attrs:{span:8}},[l("el-col",{attrs:{span:8}},[e._v("资讯号类型:")]),e._v(" "),l("el-col",{attrs:{span:14}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类型"},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}},e._l(e.accountType,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-col",{attrs:{span:8,offset:1}},[e._v("资讯号等级:")]),e._v(" "),l("el-col",{attrs:{span:14}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择等级"},model:{value:e.filters.level,callback:function(t){e.$set(e.filters,"level",t)},expression:"filters.level"}},e._l(e.accountLevel,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),l("el-form-item",[l("el-col",{attrs:{span:24}},[l("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.filter}},[e._v("查询")]),e._v(" "),l("el-button",{attrs:{type:"success"},on:{click:e.handleCreateAccount}},[e._v("新建账号")])],1)],1)],1)],1),e._v(" "),l("el-table-column",{attrs:{prop:"id",label:"资讯号ID",width:"80"}}),e._v(" "),l("el-table-column",{attrs:{prop:"nickName",label:"资讯号昵称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"type",label:"资讯号类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s("01"===t.row.type?"爬取目标账号":"众安官方账号")+"\n      ")]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.formatterStatus}}),e._v(" "),l("el-table-column",{attrs:{prop:"level",label:"资讯号等级"}}),e._v(" "),l("el-table-column",{attrs:{prop:"openDate",width:"160",formatter:e.formatterDate,label:"开通时间"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(l){e.handleEditAccount(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),l("el-dialog",{attrs:{title:"created"===e.dialogType?"新建账号":"编辑账号",visible:e.showdalog,width:"500px"},on:{"update:visible":function(t){e.showdalog=t},close:e.hideDialog}},[l("el-row",[l("el-row",[l("el-form",{ref:"form",attrs:{model:e.subEdit,rules:e.formValidate,"label-position":"left","label-width":"120px"}},[l("el-row",{attrs:{type:"flex",align:"middle"}},[l("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"资讯号类型:",prop:"type"}},[l("el-col",{attrs:{span:20}},[l("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"edit"===e.dialogType,placeholder:"请选择类型"},model:{value:e.subEdit.type,callback:function(t){e.$set(e.subEdit,"type",t)},expression:"subEdit.type"}},e._l(e.accountTypeEx,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),l("el-row",{attrs:{type:"flex",align:"middle"}},[l("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"昵称:",prop:"nickName"}},[l("el-col",{attrs:{span:20}},[l("el-input",{attrs:{placeholder:"请输入昵称",disabled:"edit"===e.dialogType},model:{value:e.subEdit.nickName,callback:function(t){e.$set(e.subEdit,"nickName",t)},expression:"subEdit.nickName"}})],1)],1)],1),e._v(" "),l("el-row",{attrs:{type:"flex",align:"middle"}},[l("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"状态:",prop:"status"}},[l("el-col",{attrs:{span:20}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择状态"},model:{value:e.subEdit.status,callback:function(t){e.$set(e.subEdit,"status",t)},expression:"subEdit.status"}},e._l(e.accountStatusEx,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),l("el-row",{attrs:{type:"flex",align:"middle"}},[l("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"等级:",prop:"level"}},[l("el-col",{attrs:{span:20}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择等级"},model:{value:e.subEdit.level,callback:function(t){e.$set(e.subEdit,"level",t)},expression:"subEdit.level"}},e._l(e.accountLevelEx,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1)],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showdalog=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"success"},on:{click:e.saveAccount}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var f=l("VU/8")(d,p,!1,function(e){l("xxwd")},"data-v-f3036480",null);t.default=f.exports},xxwd:function(e,t){}});
//# sourceMappingURL=7.js.map