webpackJsonp([16],{oW2t:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("t5DY"),n=a("myXI"),l={data:function(){return{selectionRowData:[],dialogVisiblePage:!1,newCateName:"",list:[],editCateId:null,total:1,pageNum:1,pageSize:10}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;Object(i.a)(n.pageInfoLabelCategory,{pageNum:this.pageNum,pageSize:this.pageSize}).then(function(t){console.log(t),"200"===t.returnCode&&(e.list=t.result.list,e.total=t.result.total)})},saveCate:function(){var e=this;this.editCateId?this.updateCate():Object(i.a)(n.saveInfoLabelCategory,{labelCategoryName:this.newCateName}).then(function(t){"200"===t.returnCode&&(e.getList(),e.cancelDialog(),e.$message({message:"添加成功~",type:"success"}))})},deleteCate:function(e){var t=this;console.log(e),this.$confirm("确定删除选中标签分类么?","提示",{}).then(function(){Object(i.a)(n.deleteInfoLabelCategory,{labelCategoryId:e.labelCategoryId}).then(function(e){"200"===e.returnCode?(t.$message({message:"删除成功~",type:"success"}),t.getList()):t.$message({message:e.returnMsg,type:"error"})})}).catch(function(){})},updateCate:function(){var e=this;Object(i.a)(n.updateInfoLabelCategory,{labelCategoryName:this.newCateName,labelCategoryId:this.editCateId}).then(function(t){"200"===t.returnCode&&(e.cancelDialog(),e.$message({message:"修改成功~",type:"success"}),e.getList())})},addNewCatae:function(){this.newCateName="",this.editCateId=null,this.openDialog()},openDialog:function(){this.dialogVisiblePage=!0},cancelDialog:function(){this.dialogVisiblePage=!1},editCate:function(e){this.newCateName=e.labelCategoryName,this.editCateId=e.labelCategoryId,this.openDialog()},changePage:function(e){this.pageNum=e.page,this.pageSize=e.rows||10,this.getList()},handleSelectionChange:function(e){this.selectionRowData=e}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("za-page-content",{attrs:{header:"标签分类管理"}},[a("za-table",{ref:"table",attrs:{data:e.list,"highlight-current-row":"",total:e.total},on:{"action-change":e.changePage,"selection-change":e.handleSelectionChange}},[a("el-row",{staticClass:"targetTit",attrs:{slot:"searchBar"},slot:"searchBar"},[a("el-button",{attrs:{size:"medium",type:"default"},on:{click:e.addNewCatae}},[e._v("添加分类")])],1),e._v(" "),a("el-table-column",{attrs:{prop:"labelCategoryName",label:"分类名称"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"default"},on:{click:function(a){e.editCate(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteCate(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加分类",visible:e.dialogVisiblePage,width:"40%"},on:{"update:visible":function(t){e.dialogVisiblePage=t}}},[a("el-row",[a("el-row",[a("el-row",{staticClass:"marginBottom",attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:4}},[e._v("分类名称")]),e._v(" "),a("el-col",{attrs:{span:16,offset:1}},[a("el-input",{model:{value:e.newCateName,callback:function(t){e.newCateName=t},expression:"newCateName"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"margin-top":"30px"}},[a("el-button",{on:{click:e.cancelDialog}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveCate}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]},s=a("VU/8")(l,o,!1,null,null,null);t.default=s.exports}});
//# sourceMappingURL=16.js.map